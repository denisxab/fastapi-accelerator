<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://denisxab.github.io/fastapi-accelerator/en/info_files/ rel=canonical><link href=../ rel=prev><link href=../business_logic/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.38"><title>File descriptions - Fastapi Accelerator</title><link rel=stylesheet href=../../assets/stylesheets/main.8c3ca2c6.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../assets/_mkdocstrings.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#description-of-files-in-the-fastapi_accelerator-package class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../ title="Fastapi Accelerator" class="md-header__button md-logo" aria-label="Fastapi Accelerator" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Fastapi Accelerator </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> File descriptions </span> </div> </div> </div> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__option> <div class=md-select> <button class="md-header__button md-icon" aria-label="Select language"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a href=../../info_files/ hreflang=ru class=md-select__link> Русский </a> </li> <li class=md-select__item> <a href=./ hreflang=en class=md-select__link> English </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../ title="Fastapi Accelerator" class="md-nav__button md-logo" aria-label="Fastapi Accelerator" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Fastapi Accelerator </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> File descriptions </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> File descriptions </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#description-of-files-in-the-fastapi_accelerator-package class=md-nav__link> <span class=md-ellipsis> Description of files in the fastapi_accelerator package </span> </a> </li> <li class=md-nav__item> <a href=#file-examples class=md-nav__link> <span class=md-ellipsis> File examples </span> </a> <nav class=md-nav aria-label="File examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-of-mainpy class=md-nav__link> <span class=md-ellipsis> Example of main.py </span> </a> </li> <li class=md-nav__item> <a href=#example-of-makefile class=md-nav__link> <span class=md-ellipsis> Example of Makefile </span> </a> </li> <li class=md-nav__item> <a href=#example-of-configpy class=md-nav__link> <span class=md-ellipsis> Example of config.py </span> </a> </li> <li class=md-nav__item> <a href=#example-of-file-structure class=md-nav__link> <span class=md-ellipsis> Example of file structure </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../business_logic/ class=md-nav__link> <span class=md-ellipsis> Business logic </span> </a> </li> <li class=md-nav__item> <a href=../test_logic/ class=md-nav__link> <span class=md-ellipsis> Testing logic </span> </a> </li> <li class=md-nav__item> <a href=../code_docs/ class=md-nav__link> <span class=md-ellipsis> Code Docs </span> </a> </li> <li class=md-nav__item> <a href=../plan/ class=md-nav__link> <span class=md-ellipsis> Plan </span> </a> </li> <li class=md-nav__item> <a href=../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#description-of-files-in-the-fastapi_accelerator-package class=md-nav__link> <span class=md-ellipsis> Description of files in the fastapi_accelerator package </span> </a> </li> <li class=md-nav__item> <a href=#file-examples class=md-nav__link> <span class=md-ellipsis> File examples </span> </a> <nav class=md-nav aria-label="File examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-of-mainpy class=md-nav__link> <span class=md-ellipsis> Example of main.py </span> </a> </li> <li class=md-nav__item> <a href=#example-of-makefile class=md-nav__link> <span class=md-ellipsis> Example of Makefile </span> </a> </li> <li class=md-nav__item> <a href=#example-of-configpy class=md-nav__link> <span class=md-ellipsis> Example of config.py </span> </a> </li> <li class=md-nav__item> <a href=#example-of-file-structure class=md-nav__link> <span class=md-ellipsis> Example of file structure </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>File descriptions</h1> <h2 id=description-of-files-in-the-fastapi_accelerator-package>Description of files in the fastapi_accelerator package</h2> <div class=highlight><pre><span></span><code>fastapi_accelerator/

├──<span class=w> </span>db/<span class=w> </span><span class=c1># Logic for interacting with RDBMS</span>
│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>├──<span class=w> </span>dborm.py
│<span class=w> </span>└──<span class=w> </span>dbsession.py
│
├──<span class=w> </span>pattern/<span class=w> </span><span class=c1># Templates for projects</span>
│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>├──<span class=w> </span>pattern_fastapi.py<span class=w> </span><span class=c1># Templates for creating a FastAPI project</span>
│<span class=w> </span>├──<span class=w> </span>pattern_alembic.py<span class=w> </span><span class=c1># Templates for creating Alembic</span>
│<span class=w> </span>└──<span class=w> </span>pattern_flask_admin.py<span class=w> </span><span class=c1># Templates for creating a Flask admin panel project</span>
│
├──<span class=w> </span>integration/<span class=w> </span><span class=c1># Utilities for integrations with external systems</span>
│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>├──<span class=w> </span>base_integration.py<span class=w> </span><span class=c1># Base class for all types of integrations</span>
│<span class=w> </span>├──<span class=w> </span>http_integration.py<span class=w> </span><span class=c1># HTTP integrations</span>
│<span class=w> </span>└──<span class=w> </span>stability_patterns.py<span class=w> </span><span class=c1># Implementation of stability patterns</span>
│
├──<span class=w> </span>commands/<span class=w> </span><span class=c1># CLI commands</span>
│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>└──<span class=w> </span>py2dantic<span class=w> </span><span class=c1># Generating pydantic schema from python dict</span>
│
├──<span class=w> </span>testutils<span class=w> </span><span class=c1># Utilities for testing FastAPI</span>
│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>├──<span class=w> </span>fixture_base.py<span class=w> </span><span class=c1># Main fixture for tests</span>
│<span class=w> </span>├──<span class=w> </span>fixture_db<span class=w> </span><span class=c1># Fixtures for working with test DB</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>apply_fixture.py
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>db.py
│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>trace_sql.py
│<span class=w> </span>├──<span class=w> </span>fixture_auth.py<span class=w> </span><span class=c1># Fixture for client authentication via JWT</span>
│<span class=w> </span>└──<span class=w> </span>utils.py
│
├──<span class=w> </span>cache.py<span class=w> </span><span class=c1># Caching implementation</span>
├──<span class=w> </span>auth_jwt.py<span class=w> </span><span class=c1># JWT authentication</span>
├──<span class=w> </span>exception.py<span class=w> </span><span class=c1># Exception handling</span>
├──<span class=w> </span>middleware.py<span class=w> </span><span class=c1># Middleware components</span>
├──<span class=w> </span>paginator.py<span class=w> </span><span class=c1># Pagination implementation</span>
├──<span class=w> </span>timezone.py<span class=w> </span><span class=c1># Working with time zones</span>
├──<span class=w> </span>appstate.py<span class=w> </span><span class=c1># Get project settings once during Runtime</span>
├──<span class=w> </span>viewset.py<span class=w> </span><span class=c1># ViewSet implementation</span>
├──<span class=w> </span>utils.py<span class=w> </span><span class=c1># General utilities</span>
├──<span class=w> </span>README.md<span class=w> </span><span class=c1># Documentation</span>
└──<span class=w> </span>__init__.py
</code></pre></div> <h2 id=file-examples>File examples</h2> <h3 id=example-of-mainpy>Example of <code>main.py</code></h3> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>contextlib</span> <span class=kn>import</span> <span class=n>asynccontextmanager</span>
<span class=kn>import</span> <span class=nn>uvicorn</span>
<span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
<span class=kn>from</span> <span class=nn>fastapi.responses</span> <span class=kn>import</span> <span class=n>ORJSONResponse</span>
<span class=kn>import</span> <span class=nn>app.api.v1.router</span> <span class=k>as</span> <span class=nn>RouterV1</span>
<span class=kn>from</span> <span class=nn>app.core.config</span> <span class=kn>import</span> <span class=n>BASE_DIR_PROJECT</span><span class=p>,</span> <span class=n>DEBUG</span><span class=p>,</span> <span class=n>SECRET_KEY</span>
<span class=kn>from</span> <span class=nn>app.core.db</span> <span class=kn>import</span> <span class=n>DatabaseManager</span>
<span class=kn>from</span> <span class=nn>app.core.security</span> <span class=kn>import</span> <span class=n>AuthJWT</span>
<span class=kn>from</span> <span class=nn>fastapi_accelerator.pattern_fastapi</span> <span class=kn>import</span> <span class=n>base_pattern</span>
<span class=kn>from</span> <span class=nn>fastapi_accelerator.timezone</span> <span class=kn>import</span> <span class=n>moscow_tz</span>

<span class=nd>@asynccontextmanager</span>
<span class=k>async</span> <span class=k>def</span> <span class=nf>lifespan</span><span class=p>(</span><span class=n>app</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Project lifecycle&quot;&quot;&quot;</span>
    <span class=k>yield</span>

<span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>(</span>
    <span class=n>title</span><span class=o>=</span><span class=s2>&quot;File ddos API&quot;</span><span class=p>,</span>
    <span class=c1># Lifespan function</span>
    <span class=n>lifespan</span><span class=o>=</span><span class=n>lifespan</span><span class=p>,</span>
    <span class=c1># Dependencies that will be applied to all routes in this router.</span>
    <span class=n>dependencies</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=c1># Default response class for all routes.</span>
    <span class=n>default_response_class</span><span class=o>=</span><span class=n>ORJSONResponse</span><span class=p>,</span>

    <span class=c1># Pattern for the project</span>
    <span class=n>base_pattern</span><span class=p>(</span>
        <span class=n>app</span><span class=p>,</span>
        <span class=n>routers</span><span class=o>=</span><span class=p>(</span><span class=n>RouterV1</span><span class=o>.</span><span class=n>router</span><span class=p>,),</span>
        <span class=n>timezone</span><span class=o>=</span><span class=n>moscow_tz</span><span class=p>,</span>
        <span class=n>cache_status</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
        <span class=n>debug</span><span class=o>=</span><span class=n>DEBUG</span><span class=p>,</span>
        <span class=n>base_dir</span><span class=o>=</span><span class=n>BASE_DIR_PROJECT</span><span class=p>,</span>
        <span class=n>database_manager</span><span class=o>=</span><span class=n>DatabaseManager</span><span class=p>,</span>
        <span class=n>secret_key</span><span class=o>=</span><span class=n>SECRET_KEY</span><span class=p>,</span>

        <span class=c1># Connect JWT authentication</span>
        <span class=n>AuthJWT</span><span class=o>.</span><span class=n>mount_auth</span><span class=p>(</span><span class=n>app</span><span class=p>)</span>
    <span class=p>)</span>
<span class=p>)</span>

<span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&quot;__main__&quot;</span><span class=p>:</span>
    <span class=n>uvicorn</span><span class=o>.</span><span class=n>run</span><span class=p>(</span>
        <span class=s2>&quot;main:app&quot;</span><span class=p>,</span>
        <span class=n>host</span><span class=o>=</span><span class=s2>&quot;0.0.0.0&quot;</span><span class=p>,</span>
        <span class=n>port</span><span class=o>=</span><span class=mi>8000</span><span class=p>,</span>
        <span class=n>workers</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span>
        <span class=n>reload</span><span class=o>=</span><span class=n>DEBUG</span><span class=p>,</span>
        <span class=n>access_log</span><span class=o>=</span><span class=n>DEBUG</span><span class=p>,</span>
</code></pre></div> <p>Run with <code>python main.py</code></p> <h3 id=example-of-makefile>Example of <code>Makefile</code></h3> <div class=highlight><pre><span></span><code><span class=nf>run_test</span><span class=o>:</span>
<span class=w>    </span>pytest

<span class=nf>run_dev_server</span><span class=o>:</span>
<span class=w>    </span>python<span class=w> </span>-m<span class=w> </span>main

<span class=c># Create migration</span>
<span class=nf>makemigrate</span><span class=o>:</span>
<span class=w>    </span>alembic<span class=w> </span>revision<span class=w> </span>--autogenerate

<span class=c># Apply migrations</span>
<span class=nf>migrate</span><span class=o>:</span>
<span class=w>    </span>alembic<span class=w> </span>upgrade<span class=w> </span>head
</code></pre></div> <h3 id=example-of-configpy>Example of <code>config.py</code></h3> <p>File <code>app/core/config.py</code>:</p> <div class=highlight><pre><span></span><code><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>Global project settings.</span>
<span class=sd>Can additionally contain conversion of setting values from `.settings_local`</span>
<span class=sd>&quot;&quot;&quot;</span>

<span class=kn>from</span> <span class=nn>pathlib</span> <span class=kn>import</span> <span class=n>Path</span>
<span class=kn>from</span> <span class=nn>.settings_local</span> <span class=kn>import</span> <span class=p>(</span>
    <span class=n>ADMIN_PASSWORD</span><span class=p>,</span>
    <span class=n>ADMIN_USERNAME</span><span class=p>,</span>
    <span class=n>CACHE_STATUS</span><span class=p>,</span>
    <span class=n>DATABASE_URL</span><span class=p>,</span>
    <span class=n>DEBUG</span><span class=p>,</span>
    <span class=n>DEV_STATUS</span><span class=p>,</span>
    <span class=n>REDIS_URL</span><span class=p>,</span>
    <span class=n>SECRET_KEY</span><span class=p>,</span>
    <span class=n>TEST_DATABASE_URL</span><span class=p>,</span>
<span class=p>)</span>

<span class=c1># Path to the project application</span>
<span class=n>BASE_DIR_APP</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>parent</span>
<span class=c1># Path to the project root</span>
<span class=n>BASE_DIR_PROJECT</span> <span class=o>=</span> <span class=n>BASE_DIR_APP</span><span class=o>.</span><span class=n>parent</span>

<span class=n>__all__</span> <span class=o>=</span> <span class=p>(</span>
    <span class=c1># &gt;&gt;&gt; Connections to external systems:</span>
    <span class=c1># URL for connecting to the DB</span>
    <span class=n>DATABASE_URL</span><span class=p>,</span>
    <span class=c1># URL for connecting to the test DB</span>
    <span class=n>TEST_DATABASE_URL</span><span class=p>,</span>
    <span class=c1># URL for connecting to Redis</span>
    <span class=n>REDIS_URL</span><span class=p>,</span>
    <span class=c1># &gt;&gt;&gt; Statuses:</span>
    <span class=c1># Debug mode, can be enabled on the test server</span>
    <span class=n>DEBUG</span><span class=p>,</span>
    <span class=c1># Development mode, enable only in local development</span>
    <span class=n>DEV_STATUS</span><span class=p>,</span>
    <span class=c1># Enable/Disable caching</span>
    <span class=n>CACHE_STATUS</span><span class=p>,</span>
    <span class=c1># &gt;&gt;&gt; Security:</span>
    <span class=n>SECRET_KEY</span><span class=p>,</span>
    <span class=c1># Login data for Flask-Admin panel</span>
    <span class=n>ADMIN_USERNAME</span><span class=p>,</span>
    <span class=n>ADMIN_PASSWORD</span><span class=p>,</span>
<span class=p>)</span>
</code></pre></div> <p>File <code>app/core/settings_local.py</code>:</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>os</span>

<span class=n>DATABASE_URL</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&quot;DATABASE_URL&quot;</span><span class=p>,</span> <span class=s2>&quot;postgres://user_app:db@postgres_db:5432/db&quot;</span><span class=p>)</span>
<span class=n>TEST_DATABASE_URL</span> <span class=o>=</span> <span class=s2>&quot;postgres://user_app:db@postgres_db:5432/testdb&quot;</span>
<span class=n>REDIS_URL</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&quot;REDIS_URL&quot;</span><span class=p>,</span> <span class=s2>&quot;redis://redis:6379&quot;</span><span class=p>)</span>
<span class=n>SECRET_KEY</span> <span class=o>=</span> <span class=s2>&quot;your_secret_key_here&quot;</span>
<span class=n>DEBUG</span> <span class=o>=</span> <span class=kc>True</span>
<span class=n>DEV_STATUS</span> <span class=o>=</span> <span class=kc>False</span>
<span class=n>CACHE_STATUS</span> <span class=o>=</span> <span class=kc>True</span>
<span class=n>ADMIN_USERNAME</span> <span class=o>=</span> <span class=s2>&quot;admin&quot;</span>
<span class=n>ADMIN_PASSWORD</span> <span class=o>=</span> <span class=s2>&quot;password&quot;</span>
</code></pre></div> <h3 id=example-of-file-structure>Example of file structure</h3> <div class=highlight><pre><span></span><code>Project/
│
├──<span class=w> </span>app/
│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>├──<span class=w> </span>utils.py<span class=w> </span><span class=c1># Reusable functionality for the project</span>
│<span class=w> </span>├──<span class=w> </span>core/<span class=w> </span><span class=c1># Contains core modules such as configuration, security, and common dependencies.</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>settings_local.py<span class=w> </span><span class=c1># Local values for settings, should not be in git, create directly on the server</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>config.py<span class=w> </span><span class=c1># Project settings that do not depend on external settings</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>security.py<span class=w> </span><span class=c1># Project security logic</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>db.py<span class=w> </span><span class=c1># Database settings and sessions.</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>cache.py<span class=w> </span><span class=c1># Caching settings</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>useintegration.py<span class=w> </span><span class=c1># Integrations used in the project</span>
│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>dependencies.py<span class=w> </span><span class=c1># Common dependencies for the project</span>
│<span class=w> </span>│
│<span class=w> </span>├──<span class=w> </span>api/<span class=w> </span><span class=c1># Contains all API endpoints, divided by versions.</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>v1/
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>router.py<span class=w> </span><span class=c1># Contains request handlers for the specified api version</span>
│<span class=w> </span>│<span class=w> </span>│
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>static/<span class=w> </span><span class=c1># Contains static files, if needed</span>
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>js
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>css
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>img
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>html
│<span class=w> </span>│<span class=w> </span>│
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>logic/<span class=w> </span><span class=c1># Contains business logic</span>
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>users.py
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>items.py
│<span class=w> </span>│<span class=w> </span>│
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>schemas/<span class=w> </span><span class=c1># Pydantic models for request and response validation.</span>
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>user.py
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>item.py
│<span class=w> </span>│<span class=w> </span>│
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>crud/<span class=w> </span><span class=c1># Functions for working with the database (Create, Read, Update, Delete).</span>
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>user.py
│<span class=w> </span>│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>item.py
│<span class=w> </span>│<span class=w> </span>│
│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>tests/<span class=w> </span><span class=c1># Directory for tests.</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>test_users.py
│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>test_items.py
│<span class=w> </span>│
│<span class=w> </span>├──<span class=w> </span>models/<span class=w> </span><span class=c1># Database model definitions (e.g., SQLAlchemy models).</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>user.py
│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>item.py
│<span class=w> </span>│
│<span class=w> </span>├──<span class=w> </span>integration/<span class=w> </span><span class=c1># Integrations with external services</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>google_translate/<span class=w> </span><span class=c1># Example of integration package with Google Translator (it can be connected as a git submodule)</span>
│<span class=w> </span>│<span class=w> </span>│<span class=w>    </span>└──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>schema.py<span class=w> </span><span class=c1># Contains request and response schemas</span>
│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>view.py<span class=w> </span><span class=c1># Contains integration logic</span>
│<span class=w> </span>│
│<span class=w> </span>└──<span class=w> </span>fixture/<span class=w> </span><span class=c1># Stores fixtures for testing this project</span>
│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>├──<span class=w> </span>items_v1.py<span class=w> </span><span class=c1># Test records for DB</span>
│<span class=w> </span>└──<span class=w> </span>utils.py<span class=w> </span><span class=c1># Reusable fixtures for tests</span>
│
├──<span class=w> </span>fastapi_accelerator/<span class=w> </span><span class=c1># Submodule for reuse</span>
│
├──<span class=w> </span>alembic/<span class=w> </span><span class=c1># Directory for database migrations.</span>
│<span class=w> </span>├──<span class=w> </span>versions/<span class=w> </span><span class=c1># Folder with migrations</span>
│<span class=w> </span>│<span class=w> </span>├──<span class=w> </span>__init__.py
│<span class=w> </span>│<span class=w> </span>└──<span class=w> </span>0001_init.py<span class=w> </span><span class=c1># Migration file</span>
│<span class=w> </span>└──<span class=w> </span>env.py<span class=w> </span><span class=c1># Settings for alembic</span>
│
├─<span class=w> </span>conf/<span class=w> </span><span class=c1># Configuration files for prod</span>
│<span class=w> </span>├──<span class=w> </span>settings_local.example.py<span class=w> </span><span class=c1># Example for creating settings_local.py</span>
│<span class=w> </span>└──<span class=w> </span>Dockerfile<span class=w> </span><span class=c1># File for prod</span>
│
├──<span class=w> </span>pytest.ini<span class=w> </span><span class=c1># Configuration for pytest</span>
├──<span class=w> </span>conftest.py<span class=w> </span><span class=c1># Test execution settings</span>
│
├──<span class=w> </span>.gitignore<span class=w> </span><span class=c1># Which files and folders to ignore in git</span>
├──<span class=w> </span>.gitlab-ci.yml<span class=w> </span><span class=c1># CI pipeline settings</span>
│
├──<span class=w> </span>pyproject.toml<span class=w> </span><span class=c1># Poetry settings</span>
│
├──<span class=w> </span>Makefile<span class=w> </span><span class=c1># Reusable bash commands</span>
│
├──<span class=w> </span>README.md<span class=w> </span><span class=c1># Project description</span>
├──<span class=w> </span>CHANGELOG.md<span class=w> </span><span class=c1># Project changes</span>
├──<span class=w> </span>version.toml<span class=w> </span><span class=c1># Project version</span>
│
├──<span class=w> </span>alembic.ini<span class=w> </span><span class=c1># Configurations for alembic</span>
│
├──<span class=w> </span>DockerfileDev<span class=w> </span><span class=c1># File for creating dev container with APP</span>
├──<span class=w> </span>docker-compose.yml<span class=w> </span><span class=c1># Used for building dev environment</span>
│
├──<span class=w> </span>admin_panel.py<span class=w> </span><span class=c1># Admin panel</span>
│
└──<span class=w> </span>main.py<span class=w> </span><span class=c1># Entry point to the application, where the FastAPI instance is created.</span>
</code></pre></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.d6f25eb3.min.js></script> </body> </html>